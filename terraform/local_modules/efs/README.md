# EFS Module for Terraform

<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | ~> 1.2.0 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | ~> 3.60 |
| <a name="requirement_null"></a> [null](#requirement\_null) | >= 3.1.0 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_aws"></a> [aws](#provider\_aws) | ~> 3.60 |
| <a name="provider_null"></a> [null](#provider\_null) | >= 3.1.0 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [aws_efs_access_point.replica](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_access_point) | resource |
| [aws_efs_access_point.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_access_point) | resource |
| [aws_efs_file_system.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_file_system) | resource |
| [aws_efs_mount_target.replica](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_mount_target) | resource |
| [aws_efs_mount_target.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/efs_mount_target) | resource |
| [null_resource.efs_replica](https://registry.terraform.io/providers/hashicorp/null/latest/docs/resources/resource) | resource |
| [aws_default_tags.current](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/default_tags) | data source |
| [aws_efs_file_system.replica](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/efs_file_system) | data source |
| [aws_region.current](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/region) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_access_points"></a> [access\_points](#input\_access\_points) | Map of objects for creation of efs access points | <pre>map(object({<br>    posix_user_gid    = optional(number)<br>    posix_user_uid    = optional(number)<br>    owner_gid         = optional(number)<br>    owner_uid         = optional(number)<br>    owner_permissions = optional(number)<br>    access_path       = string<br>  }))</pre> | `{}` | no |
| <a name="input_creation_token"></a> [creation\_token](#input\_creation\_token) | A unique name (a maximum of 64 characters are allowed) used as reference when creating the Elastic File System to ensure idempotent file system creation. By default generated by Terraform. | `string` | `null` | no |
| <a name="input_kms_key_arn"></a> [kms\_key\_arn](#input\_kms\_key\_arn) | KMS key encryption for EFS data storage | `string` | `null` | no |
| <a name="input_name_prefix"></a> [name\_prefix](#input\_name\_prefix) | Name prefix for create resources | `string` | n/a | yes |
| <a name="input_performance_mode"></a> [performance\_mode](#input\_performance\_mode) | maxIO | `string` | `"generalPurpose"` | no |
| <a name="input_provisioned_throughput_in_mibps"></a> [provisioned\_throughput\_in\_mibps](#input\_provisioned\_throughput\_in\_mibps) | Provisioned throughput in mibps(1-1024) | `number` | `0` | no |
| <a name="input_replica_access_points"></a> [replica\_access\_points](#input\_replica\_access\_points) | Map of objects for creation of the EFS replica access points | <pre>map(object({<br>    posix_user_gid    = optional(number)<br>    posix_user_uid    = optional(number)<br>    owner_gid         = optional(number)<br>    owner_uid         = optional(number)<br>    owner_permissions = optional(number)<br>    access_path       = string<br>  }))</pre> | `{}` | no |
| <a name="input_replica_destination"></a> [replica\_destination](#input\_replica\_destination) | EFS replica destination Region, AZ, KMSId | <pre>object({<br>    Region   = string<br>    AZSuffix = optional(string)<br>    KmsKeyId = string<br>  })</pre> | `null` | no |
| <a name="input_replica_security_groups"></a> [replica\_security\_groups](#input\_replica\_security\_groups) | The security groups for replica EFS mount mount target | `list(string)` | `[]` | no |
| <a name="input_replica_subnet_ids"></a> [replica\_subnet\_ids](#input\_replica\_subnet\_ids) | The subnet ids for the replica EFS destination mount target | `list(string)` | `[]` | no |
| <a name="input_security_groups"></a> [security\_groups](#input\_security\_groups) | Addition security groups for EFS mount points | `list(string)` | n/a | yes |
| <a name="input_subnet_ids"></a> [subnet\_ids](#input\_subnet\_ids) | The created EFS will be available in these subnet ids | `list(string)` | n/a | yes |
| <a name="input_tags"></a> [tags](#input\_tags) | A map of tags to add to the resources | `map(string)` | `{}` | no |
| <a name="input_throughput_mode"></a> [throughput\_mode](#input\_throughput\_mode) | EFS Throughput mode | `string` | `"bursting"` | no |
| <a name="input_transition_to_ia"></a> [transition\_to\_ia](#input\_transition\_to\_ia) | Indicates how long it takes to transition files to the IA storage class. Valid values: AFTER\_7\_DAYS, AFTER\_14\_DAYS, AFTER\_30\_DAYS, AFTER\_60\_DAYS, or AFTER\_90\_DAYS. | `string` | `null` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_efs_access_points"></a> [efs\_access\_points](#output\_efs\_access\_points) | Map of the EFS access points. |
| <a name="output_efs_arn"></a> [efs\_arn](#output\_efs\_arn) | ARN of the EFS file system. |
| <a name="output_efs_dns_name"></a> [efs\_dns\_name](#output\_efs\_dns\_name) | DNS name of the EFS file system. |
| <a name="output_efs_id"></a> [efs\_id](#output\_efs\_id) | Id of the EFS file system. |
| <a name="output_efs_mount_target"></a> [efs\_mount\_target](#output\_efs\_mount\_target) | Map of the EFS mount target. |
| <a name="output_efs_replica_access_points"></a> [efs\_replica\_access\_points](#output\_efs\_replica\_access\_points) | Map of the EFS replica file system access points. |
| <a name="output_efs_replica_arn"></a> [efs\_replica\_arn](#output\_efs\_replica\_arn) | ARN of the EFS replica file system. |
| <a name="output_efs_replica_dns_name"></a> [efs\_replica\_dns\_name](#output\_efs\_replica\_dns\_name) | DNS name of the EFS replica file system. |
| <a name="output_efs_replica_id"></a> [efs\_replica\_id](#output\_efs\_replica\_id) | Id of the EFS replica file system. |
| <a name="output_efs_replica_mount_target"></a> [efs\_replica\_mount\_target](#output\_efs\_replica\_mount\_target) | Map of the EFS replica file system mount target. |
<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
